<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="ngrok-skip-browser-warning" content="true">
    <title>Maze Explorer</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Start Menu -->
    <div id="startMenu">
        <canvas id="decorativeMazeLeft"></canvas>
        <canvas id="decorativeMazeRight"></canvas>
        <div class="menu-title">MAZE EXPLORER</div>
        <div class="menu-options">
            <div class="campaign-container">
                <div class="menu-item" id="campaignBtn">
                    CAMPAIGN MODE
                </div>
                <div class="campaign-controls" id="campaignControls" style="display: none;">
                    <button class="campaign-btn" id="continueBtn">Continue (Level <span id="savedLevel">1</span>)</button>
                    <button class="campaign-btn" id="newGameBtn">New Game</button>
                </div>
            </div>
            <div class="quick-maze-container">
                <div class="quick-maze-option" id="quickMazeBtn">
                    QUICK MAZE
                </div>
                <div class="quick-maze-controls">
                    <div class="control-group">
                        <div class="control-label">Level (1-8)</div>
                        <input type="number" class="control-input" id="quickLevel" value="1" min="1" max="8">
                    </div>
                    <div class="control-group">
                        <div class="control-label">Seed</div>
                        <input type="number" class="control-input" id="quickSeed" value="12345">
                    </div>
                </div>
            </div>
            <div class="movement-toggle">
                <div class="toggle-label">Movement Mode</div>
                <div class="toggle-buttons">
                    <button class="toggle-btn" id="moveBallBtn">Move Ball</button>
                    <button class="toggle-btn active" id="moveMazeBtn">Move Maze</button>
                </div>
            </div>
            <div class="gyroscope-toggle" id="gyroscopeToggle" style="display: none;">
                <div class="toggle-label">Gyroscope Control (Move Ball mode only)</div>
                <div class="toggle-buttons">
                    <button class="toggle-btn" id="gyroOnBtn">Gyroscope ON</button>
                    <button class="toggle-btn active" id="gyroOffBtn">Gyroscope OFF</button>
                </div>
            </div>
            <div class="gyroscope-toggle" id="gyroOrientationToggle" style="display: none;">
                <div class="toggle-label">Phone Orientation</div>
                <div class="toggle-buttons">
                    <div class="toggle-option">
                        <button class="toggle-btn active" id="gyroVerticalBtn">Vertical</button>
                        <span class="toggle-hint">screen facing you</span>
                    </div>
                    <div class="toggle-option">
                        <button class="toggle-btn" id="gyroHorizontalBtn">Horizontal</button>
                        <span class="toggle-hint">screen facing up</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Game Canvas -->
    <canvas id="gameCanvas"></canvas>
    <div id="ui">
        <div>Mode: <span id="modeDisplay">Campaign</span></div>
        <div>Level: <span id="level">1</span></div>
        <div>Seed: <input type="text" id="seedInput" value="0"></div>
        <div>Controls: Arrow Keys or WASD</div>
        <div style="margin-top:10px; font-size:12px; color:#888;">Progress auto-saved</div>
        <button id="resetBtn">Reset Maze</button>
        <button id="menuBtn">Main Menu</button>
    </div>
    <div id="mobileControls">
        <div class="dpad">
            <div class="dpad-btn dpad-up" id="btnUp">â–²</div>
            <div class="dpad-btn dpad-left" id="btnLeft">â—„</div>
            <div class="dpad-btn dpad-right" id="btnRight">â–º</div>
            <div class="dpad-btn dpad-down" id="btnDown">â–¼</div>
        </div>
    </div>
    <div id="win">
        ðŸŽ‰ EXIT FOUND! ðŸŽ‰<br>
        <div style="font-size:16px; margin-top:10px;">Press SPACE or tap below</div>
        <button class="btn" id="nextLevelBtn">Next Level</button>
        <button class="btn" id="menuBtn2">Main Menu</button>
    </div>

    <script src="campaign.js"></script>
    <script src="script.js"></script>
    <!-- Dev mode: set DEV_MODE_ENABLED = false in devmode.js before production -->
    <script src="devmode.js"></script>
</body>
</html>
